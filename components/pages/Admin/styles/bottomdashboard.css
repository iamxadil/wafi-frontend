/* =========================================================
   THEME via data-theme (YOU control this)
========================================================= */
[data-theme="light"] {
  --dock-bg: rgba(255, 255, 255, 0.62);
  --dock-border: rgba(0, 0, 0, 0.08);
  --dock-shadow: 0 14px 50px rgba(0, 0, 0, 0.22);
  --dock-inner: rgba(255, 255, 255, 0.35);
  --dock-icon: rgba(25, 25, 30, 0.60);
  --dock-icon-active: rgba(10, 10, 14, 0.94);
}

[data-theme="dark"] {
  --dock-bg: rgba(14, 14, 16, 0.62);
  --dock-border: rgba(255, 255, 255, 0.10);
  --dock-shadow: 0 18px 60px rgba(0, 0, 0, 0.45);
  --dock-inner: rgba(255, 255, 255, 0.10);
  --dock-icon: rgba(255, 255, 255, 0.62);
  --dock-icon-active: rgba(255, 255, 255, 0.96);
}

/* =========================================================
   DOCK WRAPPER
========================================================= */
.iosGlassDock {
  position: fixed;
  left: 5%;
  bottom: 14px;
  transform: translateX(-50%);
  z-index: 1400;
  width: 90%;
  pointer-events: auto;
}

.iosGlassDock.isHidden {
  pointer-events: none;
}

/* hidden anim handled by framer motion, but keep it silky */
.iosGlassDock .dockShell {
  will-change: transform, opacity;
}

/* =========================================================
   SHELL: real glass feel (backdrop blur + subtle “sheet”)
========================================================= */
.dockShell {
  position: relative;

  background: var(--dock-bg);
  border: 1px solid var(--dock-border);
  border-radius: 28px;

  padding: 10px 10px;

  backdrop-filter: blur(18px) saturate(1.6);
  -webkit-backdrop-filter: blur(18px) saturate(1.6);

  box-shadow: var(--dock-shadow);

  overflow: hidden;
}

/* sheet refraction highlight (top bloom) */
.dockShell::before {
  content: "";
  position: absolute;
  inset: -40% -30% auto -30%;
  height: 120%;
  background: radial-gradient(700px 180px at 50% 0%, rgba(255,255,255,0.22), transparent 60%);
  pointer-events: none;
  opacity: 0.65;
}

/* subtle inner rim (seamless edge) */
.dockShell::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 28px;
  box-shadow: inset 0 1px 0 var(--dock-inner);
  pointer-events: none;
}

/* =========================================================
   GRID: responsive without overflow (JS sets columns)
========================================================= */
.dockGrid {
  display: grid;
  grid-auto-rows: 44px;
  align-items: center;
}

/* =========================================================
   ITEM
========================================================= */
.dockItem {
  position: relative;
  min-width: 0;
}

.dockItem a {
  position: relative;
  display: grid;
  place-items: center;
  width: 100%;
  height: 44px;
  border-radius: 999px;
  text-decoration: none;
  -webkit-tap-highlight-color: transparent;
  user-select: none;
}

/* =========================================================
   ICON
========================================================= */
.dockIcon {
  position: relative;
  z-index: 2;
  font-size: 20px;
  line-height: 1;
  color: var(--dock-icon);
  filter: drop-shadow(0 2px 6px rgba(0,0,0,0.18));
}

.dockItem.active .dockIcon {
  color: var(--dock-icon-active);
}

/* =========================================================
   ACTIVE BLOB (SVG glass object)
========================================================= */
.activeBlob {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  z-index: 1;
  pointer-events: none;
}

.blobSvg {
  width: 34px;   /* smaller for dense screens */
  height: 34px;
  transform: translateZ(0);
  filter: drop-shadow(0 10px 18px rgba(0,0,0,0.22));
}

/* =========================================================
   SECRET SEAMLESS TWEAKS
========================================================= */

/* smooth press */
.dockItem a:active .dockIcon {
  transform: scale(0.94);
}

/* reduce motion */
@media (prefers-reduced-motion: reduce) {
  .blobSvg {
    filter: none;
  }
}

/* safe area */
@supports (padding-bottom: env(safe-area-inset-bottom)) {
  .iosGlassDock {
    bottom: calc(14px + env(safe-area-inset-bottom));
  }
}

/* keep defs hidden */
.iosGlassDefs {
  position: absolute;
  width: 0;
  height: 0;
  overflow: hidden;
}
